import{d as e,r as t,G as a,l as s,o as l,c as r,w as o,b as d,F as u,e as n,f as i,a as c,m as f,t as _,u as p,p as m,z as y,k as S,i as v,g as k,h as g,s as b,S as x,j as h}from"./index-bf3db433.js";import{o as j,O as C}from"./contants.7673486a.js";import{f as I}from"./order.61ce54ab.js";import"./http.d330a529.js";import{_ as w}from"./_plugin-vue_export-helper.1b428a4d.js";const D=w(e({__name:"OrderList",props:{orderState:null},setup(e){const x={page:1,pageSize:5,orderState:e.orderState},h=t([]),w=async()=>{const e=await I(x);h.value=e.result.items};a((()=>{w()}));const{safeAreaInsets:D}=s();return(e,t)=>{const a=S,s=v,x=k,I=g,F=b;return l(),r(F,{"scroll-y":"",class:"orders"},{default:o((()=>{var e;return[(l(!0),d(u,null,n(h.value,(e=>(l(),r(s,{class:"card",key:e.id},{default:o((()=>[i(" 订单信息 "),c(s,{class:"status"},{default:o((()=>[c(a,{class:"date"},{default:o((()=>[f(_(e.createTime),1)])),_:2},1024),i(" 订单状态文字 "),c(a,null,{default:o((()=>[f(_(p(j)[e.orderState].text),1)])),_:2},1024),i(" 待评价/已完成/已取消 状态: 展示删除订单 "),e.orderState>=p(C).DaiPingJia?(l(),r(a,{key:0,class:"icon-delete"})):i("v-if",!0)])),_:2},1024),i(" 商品信息，点击商品跳转到订单详情，不是商品详情 "),(l(!0),d(u,null,n(e.skus,(t=>(l(),r(I,{key:t.id,class:"goods",url:`/pagesOrder/detail/detail?id=${e.id}`,"hover-class":"none"},{default:o((()=>[c(s,{class:"cover"},{default:o((()=>[c(x,{mode:"aspectFit",src:t.image},null,8,["src"])])),_:2},1024),c(s,{class:"meta"},{default:o((()=>[c(s,{class:"name ellipsis"},{default:o((()=>[f(_(t.name),1)])),_:2},1024),c(s,{class:"type"},{default:o((()=>[f(_(t.attrsText),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["url"])))),128)),i(" 支付信息 "),c(s,{class:"payment"},{default:o((()=>[c(a,{class:"quantity"},{default:o((()=>[f("共"+_(e.totalNum)+"件商品",1)])),_:2},1024),c(a,null,{default:o((()=>[f("实付")])),_:1}),c(a,{class:"amount"},{default:o((()=>[c(a,{class:"symbol"},{default:o((()=>[f("¥")])),_:1}),f(_(e.totalMoney),1)])),_:2},1024)])),_:2},1024),i(" 订单操作按钮 "),c(s,{class:"action"},{default:o((()=>[i(" 待付款状态：显示去支付按钮 "),e.orderState===p(C).DaiFuKuan?(l(),r(s,{key:0,class:"button primary",onClick:t=>(async e=>{y({title:"支付成功"}),h.value.find((t=>t.id===e)).orderState=C.DaiFaHuo,w()})(e.id)},{default:o((()=>[f("去支付")])),_:2},1032,["onClick"])):(l(),d(u,{key:1},[c(I,{class:"button secondary",url:"/pagesOrder/create/create?orderId=id","hover-class":"none"},{default:o((()=>[f(" 再次购买 ")])),_:1}),i(" 待收货状态: 展示确认收货 "),e.orderState===p(C).DaiShouHuo?(l(),r(s,{key:0,class:"button primary"},{default:o((()=>[f("确认收货")])),_:1})):i("v-if",!0)],64))])),_:2},1024)])),_:2},1024)))),128)),i(" 底部提示文字 "),c(s,{class:"loading-text",style:m({paddingBottom:(null==(e=p(D))?void 0:e.bottom)+"px"})},{default:o((()=>[f(_("没有更多数据~"),1)])),_:1},8,["style"])]})),_:1})}}}),[["__scopeId","data-v-72a54e65"]]),F=w(e({__name:"list",props:{type:null},setup(e){const a=e,s=t([{orderState:0,title:"全部"},{orderState:1,title:"待付款"},{orderState:2,title:"待发货"},{orderState:3,title:"待收货"},{orderState:4,title:"待评价"}]),p=t(s.value.findIndex((e=>e.orderState==Number(a.type))));return(e,t)=>{const a=S,y=v,k=h,g=x;return l(),r(y,{class:"viewport"},{default:o((()=>[i(" tabs "),c(y,{class:"tabs"},{default:o((()=>[(l(!0),d(u,null,n(s.value,((e,t)=>(l(),r(a,{class:"item",key:e.orderState,onClick:e=>p.value=t},{default:o((()=>[f(_(e.title),1)])),_:2},1032,["onClick"])))),128)),i(" 游标 "),c(y,{class:"cursor",style:m({left:20*p.value+"%"})},null,8,["style"])])),_:1}),i(" 滑动容器 "),c(g,{class:"swiper",current:p.value,onChange:t[0]||(t[0]=e=>p.value=e.detail.current)},{default:o((()=>[i(" 滑动项 "),(l(!0),d(u,null,n(s.value,(e=>(l(),r(k,{key:e.orderState},{default:o((()=>[i(" 订单列表 "),c(D,{orderState:e.orderState},null,8,["orderState"])])),_:2},1024)))),128))])),_:1},8,["current"])])),_:1})}}}),[["__scopeId","data-v-f8821f72"]]);export{F as default};
