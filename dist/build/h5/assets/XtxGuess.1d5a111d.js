import{d as a,r as s,G as e,o as l,b as t,f as u,a as o,w as c,m as r,F as n,e as i,t as p,z as d,k as g,i as m,c as _,g as f,h as v}from"./index-bf3db433.js";import{G as x}from"./home.31b66ffe.js";import{_ as h}from"./_plugin-vue_export-helper.1b428a4d.js";const j=h(a({__name:"XtxGuess",setup(a,{expose:h}){const j={page:1,pageSize:10},k=s([]),y=s(!1),G=async()=>{if(1==y.value)return d({icon:"none",title:"没有更多数据了"});const a=await x(j);k.value.push(...a.result.items),j.page<a.result.pages?j.page++:y.value=!0};return e((()=>{G()})),h({getMore:G,resetData:async()=>{console.log("重置"),j.page=1,k.value=[],y.value=!1}}),(a,s)=>{const e=g,d=m,x=f,h=v;return l(),t(n,null,[u(" 猜你喜欢 "),o(d,{class:"caption"},{default:c((()=>[o(e,{class:"text"},{default:c((()=>[r("猜你喜欢")])),_:1})])),_:1}),o(d,{class:"guess"},{default:c((()=>[(l(!0),t(n,null,i(k.value,(a=>(l(),_(h,{class:"guess-item",key:a.id,url:"/pages/goods/goods"},{default:c((()=>[o(x,{class:"image",mode:"aspectFill",src:a.picture},null,8,["src"]),o(d,{class:"name"},{default:c((()=>[r(p(a.name),1)])),_:2},1024),o(d,{class:"price"},{default:c((()=>[o(e,{class:"small"},{default:c((()=>[r("¥")])),_:1}),o(e,null,{default:c((()=>[r(p(a.price),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),o(d,{class:"loading-text"},{default:c((()=>[r(p(y.value?"没有更多数据了":"正在加载loading..."),1)])),_:1})],64)}}}),[["__scopeId","data-v-913d3e79"]]);export{j as X};
